<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Static HTML Demo</title>
    <style>
      #wrapper {
        max-width: 600px;
        height: 400px;
        margin: 0 auto;
      }
    </style>

    <!-- popup css needs to be included manually because popup is initialized via JS, not HTML -->
    <link rel="stylesheet" href="./lib/css/popup.css" />
  </head>
  <body>
    <h1>this is an experimental feature</h1>

    <p>you can use embed lib to embed the form with chat UI</p>

    <div style="background: #ccc">
      <div
        id="wrapper"
        data-tf-widget="moe6aa"
        data-tf-medium="demo-test"
        data-tf-transitive-search-params="foo,bar"
        data-tf-hidden="foo=foo value,bar=bar value"
        data-tf-opacity="50"
        data-tf-chat
      ></div>
    </div>

    <p>
      <button id="button">open popup</button>
      (check dev tools console for callback methods)
    </p>

    <p>
      <button data-tf-slider="moe6aa" data-tf-medium="demo-test" data-tf-chat>open slider</button>
    </p>

    <div
      data-tf-popover="moe6aa"
      data-tf-medium="demo-test"
      data-tf-chat
      data-tf-notification-days="3"
      data-tf-tooltip="Reallylonglongwidetooltipwordfortestingthebreakwordbehaviour"
    ></div>

    <div data-tf-sidetab="moe6aa" data-tf-medium="demo-test" data-tf-chat data-tf-button-text="open sidetab"></div>

    <script src="./lib/embed-next.js"></script>

    <script>
      const { toggle } = window.tf.createPopup('moe6aa', {
        medium: 'demo-test',
        chat: true,
        width: 400,
        height: 600,
        onReady: (data) => {
          console.log('chat ready', data)
        },
        onSubmit: (data) => {
          console.log('chat submitted', data)
        },
        onQuestionChanged: (data) => {
          console.log('chat question changed', data)
        },
      })
      document.getElementById('button').onclick = toggle
    </script>
  </body>
</html>
